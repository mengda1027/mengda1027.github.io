<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="达达同学" />



<meta name="description" content="关于对象扩展方法的分析和归纳">
<meta name="keywords" content="jQuery,Lodash,Core JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="对象的扩展的几种方法">
<meta property="og:url" content="https://mengda1027.github.io/2017/04/27/对象的扩展的几种方法/index.html">
<meta property="og:site_name" content="达达同学的个人站点">
<meta property="og:description" content="关于对象扩展方法的分析和归纳">
<meta property="og:image" content="http://7xtrl1.com1.z0.glb.clouddn.com/static/images/两种对象扩展方法的速度对比.png">
<meta property="og:updated_time" content="2017-04-27T07:33:37.875Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="对象的扩展的几种方法">
<meta name="twitter:description" content="关于对象扩展方法的分析和归纳">
<meta name="twitter:image" content="http://7xtrl1.com1.z0.glb.clouddn.com/static/images/两种对象扩展方法的速度对比.png">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="达达同学的个人站点" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>对象的扩展的几种方法 | 达达同学的个人站点</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">达达同学</a></h1>
        </hgroup>

        
        <p class="header-subtitle">dream big , start small</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:mengda@outlook.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/mengda1027" title="GitHub"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Core-JavaScript/">Core JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lodash/">Lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li></ul>
                    </div>
                </section>
                
                
                

                
                
                <section class="switch-part switch-part3">
                
                    <div id="js-aboutme">to be a geek not a nerd</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">达达同学</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">达达同学</a></h1>
            </hgroup>
            
            <p class="header-subtitle">dream big , start small</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:mengda@outlook.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/mengda1027" title="GitHub"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-对象的扩展的几种方法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/04/27/对象的扩展的几种方法/" class="article-date">
      <time datetime="2017-04-27T01:02:26.000Z" itemprop="datePublished">2017-04-27</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      对象的扩展的几种方法
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Core-JavaScript/">Core JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Lodash/">Lodash</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>对象属性扩展是常见操作，有多种方法实现它，那么各个方法之间有什么区别呢？现通过Object.assign和jQuery.extend来简要分析</p>
<h1 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign"></a>Object.assign</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// syntax</span></div><div class="line"><span class="built_in">Object</span>.assign(target, ...sources)</div></pre></td></tr></table></figure>
<blockquote>
<p>Properties in the target object will be overwritten by properties in the sources if they have the same key.  Later sources’ properties will similarly overwrite earlier ones.  </p>
</blockquote>
<p>意思比较简单：将<code>sourece</code>的属性赋予<code>target</code> ，如果有相同key就覆盖，没有则复制到<code>target</code>上.<code>sourece</code>值为null或undefined也会被直接复制到<code>target</code>中</p>
<p>这种扩展仅仅是属性值的简单复制或覆盖.如果属性值类型为Object，复制时传递的是则是其内存地址，与<code>深层复制(Deep Clone)</code>不同，比较一下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a = &#123; <span class="attr">b</span>: &#123;<span class="attr">c</span>: <span class="number">4</span>&#125; , <span class="attr">d</span>: &#123; <span class="attr">e</span>: &#123;<span class="attr">f</span>: <span class="number">1</span>&#125; &#125; &#125;;</div><div class="line"><span class="keyword">let</span> g = <span class="built_in">Object</span>.assign(&#123;&#125;, a);</div><div class="line"><span class="keyword">let</span> h = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(a));	<span class="comment">// Deep Clone</span></div><div class="line">g.d.e = <span class="number">32</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(g)); <span class="comment">// &#123; b: &#123; c: 4 &#125;, d: &#123; e: 32 &#125; &#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(a)); <span class="comment">// &#123; b: &#123; c: 4 &#125;, d: &#123; e: 32 &#125; &#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(h)); <span class="comment">// &#123; b: &#123; c: 4 &#125;, d: &#123; e: &#123; f: 1 &#125; &#125;</span></div><div class="line">h.d.e = <span class="number">54</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(g)); <span class="comment">// &#123; b: &#123; c: 4 &#125;, d: &#123; e: 32 &#125; &#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(a)); <span class="comment">// &#123; b: &#123; c: 4 &#125;, d: &#123; e: 32 &#125; &#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(h)); <span class="comment">// &#123; b: &#123; c: 4 &#125;, d: &#123; e: 54 &#125; &#125;</span></div></pre></td></tr></table></figure>
<p>值得一提的是如果对象中含有属性的get/set方法，在应用Object.assign方法后，对象的get/set方法并不会被复制到<code>target</code>中从而导致扩展对象和源对象属性的读取或赋值不一致. 通过<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="external">Object.defineProperty()</a>以及<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" target="_blank" rel="external">Object.getOwnPropertyDescriptor()</a>可以看到对象的详细结构.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> o, d;</div><div class="line">o = &#123; get foo() &#123; <span class="keyword">return</span> <span class="number">17</span>; &#125; &#125;;</div><div class="line">d = <span class="built_in">Object</span>.getOwnPropertyDescriptor(o, <span class="string">'foo'</span>);</div></pre></td></tr></table></figure>
<p>如果对<code>o</code>用Object.assign作为<code>source</code>扩展，<code>get</code>方法不会被复制到<code>target</code>中，导致值不一致.</p>
<h1 id="jQuery-extend"><a href="#jQuery-extend" class="headerlink" title="jQuery.extend"></a>jQuery.extend</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// syntex</span></div><div class="line">jQuery.extend( target [, object1 ] [, objectN ] )</div><div class="line">jQuery.extend( [deep ], target, object1 [, objectN ] )</div></pre></td></tr></table></figure>
<p>这里是jQuery的工具方法，也是用于对象的扩展.</p>
<p>对比<code>Object.assign</code>，<code>jQuery.extend</code>会忽略掉值为null或undefined的属性.</p>
<p>这里的<code>deep</code>参数弥补了<code>Object.assign</code>不能深层复制的短板.当设置为<code>true</code> 时,此方法便会递归复制.</p>
<p>通过语法我们注意到，源对象是可以省略的. 也就是说参数只有一个<code>target</code> .在编写jQuery插件时可以利用这种简洁的写法对jQuery添加一些工具方法.</p>
<p>jQuery extend方法的实现源码  （Ver.3.2.1）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line">jQuery.extend = jQuery.fn.extend = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> options, name, src, copy, copyIsArray, clone,</div><div class="line">  target = <span class="built_in">arguments</span>[ <span class="number">0</span> ] || &#123;&#125;,</div><div class="line">  i = <span class="number">1</span>,</div><div class="line">  length = <span class="built_in">arguments</span>.length,</div><div class="line">  deep = <span class="literal">false</span>;</div><div class="line">  <span class="comment">// 当第一个参数为指明是否深复制的布尔值</span></div><div class="line">  <span class="keyword">if</span> ( <span class="keyword">typeof</span> target === <span class="string">"boolean"</span> ) &#123;</div><div class="line">    deep = target;</div><div class="line">    <span class="comment">// 重新定位复制目标对象</span></div><div class="line">    target = <span class="built_in">arguments</span>[ i ] || &#123;&#125;;</div><div class="line">    i++;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// 处理当target不为对象值的情况</span></div><div class="line">  <span class="keyword">if</span> ( <span class="keyword">typeof</span> target !== <span class="string">"object"</span> &amp;&amp; !jQuery.isFunction( target ) ) &#123;</div><div class="line">    target = &#123;&#125;;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// 如果仅传入一个参数，则扩展jQuery</span></div><div class="line">  <span class="keyword">if</span> ( i === length ) &#123;</div><div class="line">    target = <span class="keyword">this</span>;</div><div class="line">    i--;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">for</span> ( ; i &lt; length; i++ ) &#123;</div><div class="line">    <span class="comment">// 排除source对象为undefined/null的情况</span></div><div class="line">    <span class="keyword">if</span> ( ( options = <span class="built_in">arguments</span>[ i ] ) != <span class="literal">null</span> ) &#123;</div><div class="line">      <span class="comment">// Extend the base object 遍历属性，扩展</span></div><div class="line">      <span class="keyword">for</span> ( name <span class="keyword">in</span> options ) &#123;</div><div class="line">        src = target[ name ];	<span class="comment">// target属性值</span></div><div class="line">        copy = options[ name ];	 <span class="comment">//source属性值</span></div><div class="line">        <span class="comment">// 防止进入死循环：目标对象 ！== 源对象的属性值</span></div><div class="line">        <span class="keyword">if</span> ( target === copy ) &#123;</div><div class="line">          <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// 如果源对象的属性值为Object或数组，进行递归</span></div><div class="line">        <span class="keyword">if</span> ( deep &amp;&amp; copy &amp;&amp; ( jQuery.isPlainObject( copy ) || ( copyIsArray = <span class="built_in">Array</span>.isArray( copy ) ) ) ) &#123;</div><div class="line">          <span class="keyword">if</span> ( copyIsArray ) &#123;</div><div class="line">            copyIsArray = <span class="literal">false</span>;</div><div class="line">            clone = src &amp;&amp; <span class="built_in">Array</span>.isArray( src ) ? src : [];</div><div class="line">          &#125; <span class="keyword">else</span> &#123;</div><div class="line">            clone = src &amp;&amp; jQuery.isPlainObject( src ) ? src : &#123;&#125;;</div><div class="line">          &#125;</div><div class="line">          <span class="comment">// 递归调用</span></div><div class="line">          target[ name ] = jQuery.extend( deep, clone, copy );</div><div class="line">          <span class="comment">// 如果是基本类型直接复制赋值，并过滤source中为undefined的属性值</span></div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( copy !== <span class="literal">undefined</span> ) &#123;</div><div class="line">          target[ name ] = copy;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// 返回结果</span></div><div class="line">  <span class="keyword">return</span> target;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>综上，由于<code>Object.assign</code>只做表层复制自然就比不断进行深层递归的<code>jQuery.extend</code>方法速度快很多</p>
 <img title="Object.assign与jQuery.extend的速度对比" alt="Object.assign与jQuery.extend的速度对比" src="http://7xtrl1.com1.z0.glb.clouddn.com/static/images/两种对象扩展方法的速度对比.png">
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>工具库<a href="https://lodash.com/docs/4.17.4" target="_blank" rel="external">Lodash</a>中也有关于对象属性的扩展方法：<a href="https://lodash.com/docs/4.17.4#assign" target="_blank" rel="external">assign</a>, <a href="https://lodash.com/docs/4.17.4#merge" target="_blank" rel="external">merge</a></p>
<h2 id="assign"><a href="#assign" class="headerlink" title="assign"></a>assign</h2><blockquote>
<p>Assigns own enumerable string keyed properties of source objects to the destination object. Source objects are applied from left to right. Subsequent sources overwrite property assignments of previous sources.</p>
</blockquote>
<p>assgin将可枚举属性复制到目标对象上. 来源对象的应用规则是从左到右，如果有同名属性，右边出现的下一个对象的属性会覆盖上一个对象的属性.</p>
<h2 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h2><blockquote>
<p>This method is like <code>_.assign</code> except that it recursively merges own and inherited enumerable string keyed properties of source objects into the destination object. Source properties that resolve to <code>undefined</code> are skipped if a destination value exists. Array and plain object properties are merged recursively. Other objects and value types are overridden by assignment. Source objects are applied from left to right. Subsequent sources overwrite property assignments of previous sources.</p>
</blockquote>
<p><strong>递归合并</strong>来源对象的自身和继承的可枚举属性到目标对象. 当源对象属性为 undefined 时会被跳过. 数组和普通对象会递归合并，其他对象和值会被直接分配.</p>
<p>由此可见最大的区别是两者是否会<strong>递归合并</strong>以及对于值为undefied的属性处理方式.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//递归合并</span></div><div class="line">_.assign      (&#123;&#125;, &#123;<span class="attr">a</span>:&#123;<span class="attr">a</span>:<span class="string">'a'</span>&#125;&#125;, &#123;<span class="attr">a</span>:&#123;<span class="attr">b</span>:<span class="string">'bb'</span>&#125;&#125;) <span class="comment">// =&gt; &#123; "a": &#123; "b": "bb" &#125;&#125;</span></div><div class="line">_.merge       (&#123;&#125;, &#123;<span class="attr">a</span>:&#123;<span class="attr">a</span>:<span class="string">'a'</span>&#125;&#125;, &#123;<span class="attr">a</span>:&#123;<span class="attr">b</span>:<span class="string">'bb'</span>&#125;&#125;) <span class="comment">// =&gt; &#123; "a": &#123; "a": "a","b":"bb" &#125;&#125;</span></div><div class="line">_.defaults    (&#123;&#125;, &#123;<span class="attr">a</span>:&#123;<span class="attr">a</span>:<span class="string">'a'</span>&#125;&#125;, &#123;<span class="attr">a</span>:&#123;<span class="attr">b</span>:<span class="string">'bb'</span>&#125;&#125;) <span class="comment">// =&gt; &#123; "a": &#123; "a": "a" &#125;&#125;</span></div><div class="line">_.defaultsDeep(&#123;&#125;, &#123;<span class="attr">a</span>:&#123;<span class="attr">a</span>:<span class="string">'a'</span>&#125;&#125;, &#123;<span class="attr">a</span>:&#123;<span class="attr">b</span>:<span class="string">'bb'</span>&#125;&#125;) <span class="comment">// =&gt; &#123; "a": &#123; "a": "a", "b": "bb" &#125;&#125;</span></div><div class="line"></div><div class="line"><span class="comment">// 对于undefined处理</span></div><div class="line">_.assign      (&#123;&#125;, &#123; <span class="attr">a</span>: <span class="string">'a'</span>  &#125;, &#123; <span class="attr">a</span>: <span class="literal">undefined</span> &#125;) <span class="comment">// =&gt; &#123; a: undefined &#125;</span></div><div class="line">_.merge       (&#123;&#125;, &#123; <span class="attr">a</span>: <span class="string">'a'</span>  &#125;, &#123; <span class="attr">a</span>: <span class="literal">undefined</span> &#125;) <span class="comment">// =&gt; &#123; a: "a" &#125;</span></div><div class="line"></div><div class="line">_.assign      (&#123;&#125;, &#123; <span class="attr">a</span>: <span class="string">'a'</span>  &#125;, &#123; <span class="attr">a</span>: <span class="literal">null</span> &#125;) <span class="comment">// =&gt; &#123; a: null &#125;</span></div><div class="line">_.merge       (&#123;&#125;, &#123; <span class="attr">a</span>: <span class="string">'a'</span>  &#125;, &#123; <span class="attr">a</span>: <span class="literal">null</span> &#125;) <span class="comment">// =&gt; &#123; a: null &#125;</span></div></pre></td></tr></table></figure>
<p>另外，在处理数组时需要注意两者都不会对数组进行合并，仅是覆盖</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">_.assign      (&#123;&#125;, &#123;<span class="attr">a</span>:[<span class="string">'a'</span>]&#125;, &#123;<span class="attr">a</span>:[<span class="string">'bb'</span>]&#125;) <span class="comment">// =&gt; &#123; "a": [ "bb" ] &#125;</span></div><div class="line">_.merge       (&#123;&#125;, &#123;<span class="attr">a</span>:[<span class="string">'a'</span>]&#125;, &#123;<span class="attr">a</span>:[<span class="string">'bb'</span>]&#125;) <span class="comment">// =&gt; &#123; "a": [ "bb" ] &#125;</span></div></pre></td></tr></table></figure>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ol>
<li><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="external">Object.assign-MDN</a></li>
<li><a href="http://stackoverflow.com/questions/19965844/lodash-difference-between-extend-assign-and-merge" target="_blank" rel="external">Lodash - difference between .extend() / .assign() and .merge()</a></li>
<li><a href="https://jsperf.com/jquery-extend-vs-object-assign/2" target="_blank" rel="external">jquery-extend-vs-object-assign</a></li>
</ol>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2017/04/27/对象的扩展的几种方法/">对象的扩展的几种方法</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页">达达同学</a></p>
        <p><span>发布时间:</span>2017-04-27, 09:02:26</p>
        <p><span>最后更新:</span>2017-04-27, 15:33:37</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2017/04/27/对象的扩展的几种方法/" title="对象的扩展的几种方法">https://mengda1027.github.io/2017/04/27/对象的扩展的几种方法/</a>
            <span class="copy-path" data-clipboard-text="原文: https://mengda1027.github.io/2017/04/27/对象的扩展的几种方法/　　作者: 达达同学" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Object-assign"><span class="toc-number">2.</span> <span class="toc-text">Object.assign</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#jQuery-extend"><span class="toc-number">3.</span> <span class="toc-text">jQuery.extend</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#其他"><span class="toc-number">4.</span> <span class="toc-text">其他</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#assign"><span class="toc-number">4.1.</span> <span class="toc-text">assign</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#merge"><span class="toc-number">4.2.</span> <span class="toc-text">merge</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考"><span class="toc-number">5.</span> <span class="toc-text">参考</span></a></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"对象的扩展的几种方法　| 达达同学的个人站点　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
        <section id="comments">
    <style> aside.comment-bar { margin: auto 30px; }</style>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function(){
            this.page.url = 'https://mengda1027.github.io/2017/04/27/对象的扩展的几种方法/';
            this.page.identifier = '2017/04/27/对象的扩展的几种方法/';
        };
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = '//mengda.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        }
    </script>
    
    <script> loadComment(); </script>

</section>


    




    <div class="scroll" id="post-nav-button">
        
            <a href="/" title="回到主页"><i class="fa fa-home"></i></a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/" title="回到主页"><i class="fa fa-home"></i></a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/04/27/对象的扩展的几种方法/">对象的扩展的几种方法</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2017 达达同学
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 6;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>